INSERT INTO TBLMVERSION (SERIALNO,VERSION,SETUPMODE,COMPONENT,EXECUTED_ON) VALUES (SEQ_TBLMVERSION.nextval,'6.6.0.3','upgrade-csm-to-6.6.0.3','AAASMX',CURRENT_TIMESTAMP);
Commit;

--Remove Remote Session Manager columns from tblmsessionmanagerinstance table
ALTER TABLE tblmsessionmanagerinstance drop column smtype;
ALTER TABLE tblmsessionmanagerinstance drop column acceptontimeout;
ALTER TABLE tblmsessionmanagerinstance drop column script;
ALTER TABLE tblmsessionmanagerinstance drop column translationmapconfigid;
ALTER TABLE tblmsessionmanagerinstance drop column COPYPACKETMAPCONFID;

DROP table tblmsmesirel;

COMMIT;

-- Move Server Certificate Module into Database Level 

-- Add default server certificate
INSERT INTO TBLMSERVERCERTIFICATE VALUES
(1,'Elitecore_server_cert',
to_blob('2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D494945574443434130436741774942416749424244414E42676B71686B69473977304241515546414443427054454C4D416B474131554542684D43535534780A4544414F42674E564241675442306431616D467959585178456A415142674E56424163544355466F6257566B59574A685A44456C4D434D474131554543684D630A525778706447566A62334A6C4946526C59326874626D3973623264705A584D675448526B4C6A45524D4138474131554543784D495257787064475642515545780A4654415442674E5642414D54444556736158526C593239795A534244515445664D42304743537147534962334451454A41525951593246415A5778706447566A0A62334A6C4C6D4E7662544165467730774F5441784D4463784D6A55784D445A61467730784F4441784D4455784D6A55784D445A614D4947734D517377435159440A5651514745774A4A546A45514D4134474131554543424D485233567159584A68644445534D4241474131554542784D4A515768745A575268596D466B4D5351770A496759445651514B4578744662476C305A574E76636D55675647566A614735766247396E6157567A494578305A4334784554415042674E5642417354434556730A6158526C515546424D526B7746775944565151444578424662476C305A574E76636D556755325679646D56794D534D774951594A4B6F5A496876634E41516B420A4668527A5A584A325A584A415A5778706447566A62334A'||
'6C4C6D4E7662544343415349774451594A4B6F5A496876634E415145424251414467674550414443430A41516F4367674542414B71645A562B522F7669576333592B5369356543572F5444587156307674473234392F3449754D794F517477573968334172397137374B0A547A6E4D623163344153446F696554304E686D704F495453684C58733879575A65573350507167574232635555705573536C792F494350786E4A76615A7A65590A6F4A717A4A366D697036793150306F30374B62666A486D4130766A68686769737635726C44517754504D3557306770564B76666A4165764A4479497471724D520A386A5671446D5852325477584E7031786D41386950705241787369624173646545345346764D73394B52383375796A47752B6675677A7A61553270366546517A0A694B4152424E6E6F45677247736C6D68536239766A415779426D6265714445355A4F7363646D6F664E6341726E757A456E35554366647749666D616B4F6D4A750A765A4E2B63636E75536845337A444F2B426D4A74624C7135585A78332F694D434177454141614F4269544342686A414A42674E5648524D4541' ||
'6A41414D4173470A4131556444775145417749463444417342676C67686B67426876684341513045487859645433426C626C4E54544342485A57356C636D46305A575167513256790A64476C6D61574E6864475577485159445652304F42425945464E516F522B7163565031516D62483367664F6E71307A562F3036694D42384741315564497751590A4D426141464F543946767757744257536C717973666A4B2B30454566716270744D4130474353714753496233445145424251554141344942415141536155714F0A5573446E596C5771564C5A306D556B792B2B504D6D36354C5364324A4837344837346A31756C537571543131472F614B4476462B445A2B543670414B36622F4D0A753353616A4E3648624C3066752B594D5978664F41504D425846777A494C39487358736F4F7251486252756F4848563373494D7A4C3450454E30322B63586D760A2B76456A4C6B6C6B4F335067466532592B424B4246552B526A7274506C314736734653663176575A5437754C6C5178584743556E5943625431376E537765306A0A4A784572752F6769564B36476155344E315243684C414444627476305A6D6A62736E6C744E6E4947664650535A51324A705944623864423349725238425A4C490A42514C32354452426F6C4E65725478397579442B45397358496E5734372B774643456F504A414F34753776575757582B62665A70366C41594E347835566A37570A6F642F353844516A4F683731473379500A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A'),
'elitecore-server-cert.pem',to_blob('308204E9301B06092A864886F70D010503300E04089CF8D4E154E0DAD302020800048204C8E23AE37ED6ABA8118923E483CD2AFA15B8DD819A5E04166F0416CDFF64C1D5E70D576463597F91D3D6C92D19020536CCE7BBD6CF36AB310CFB8D19E4492F476244B9336E7B49000054DFEB76CF55C3BE136110942FE23F6D61D381FF1A68EE147310087FEA71D06E09E2AB9672F4850C8F61725BFA17A209399983E8AB85C7593ECED765656B45E5FDBB959E8B4E7619B0F83DE7B42348563F187662322CC04B4D7BB9A4B727BB6E9E3DDE8FBF26E05EAEF65D176033FD883F8DC69D2E732C81DB7EB630295F0B15FA65EC8C1820E1E88EA8395EC8106DF60E8196F1DD5504C74FBCB0DBD88C4831A661922DBF8256404AEAFD5DF618E43249E7E3B1E498BF868B7267A547F1127D5D1EA422BD2E0712F72DFC8CA57230608C63746A3314CA997973CD177488B13A9BAC483C697362122BD49E5B0ED99A8FBFD7352C0503C316C6827FC39D48571CFA1B3084A33601A432740C65CB276AB3BDFF77401298F5D4BDEA4AFF2EAEA758DF90652C2D251D4BC951DBFA9DC547DC47CB7EBCB28FDF69D1111692953E55287D9C757CABA66B83CF65A52B4D36252DBF2FDD48621B819C0C32F04B1CCAD20B3A10A1DCF4AF1A43555E2D65C96F30D97994069E8E45A387A726E0053E92FD40D44B34F771DAB9B027047BFB0A8F755FAE550AEF3AB24079D3D2FA6B7B1B643707E3C97D00517D1DA31AA46BA305ECDD0493B63D05BD46E1728AE019BF34BEB4AD8C21364B82CF1880D389590206' ||
'5A38827E3D81EB3525B7D4904962132AEA18B21A91A6B07EEDBFEB6C675AC6F8AB2DE9CC493C91185A2B73CB86B472575BA9B19D26E7ACEA160CC5F51C6A22CD07D5CAFF18ED9274FF7092867F60AE25E0B516BB712F588AE54918A2DF74EC4BB1F05E89A4F3FE2C28E28ABD6263DD5C92D7C8DEC493AE66EED72A1CF21A8AD95F67126F96669161C34451C0E2BB86CBE20AAB3E6C8BC41161A4277F898465C0EDB36DEC40C9A4070A5E081BB66EEC8E12CA040E307814600989E076F405A8BAFC35C3AE6554E8A14E7989A4A078CF095AA1140C07C8FAEFE45DFF3E99457E250811CE5D2B10309FA281364168E8B57A5FD3116899D0494D445BEA04D4D97C83F53088E9C239636B84F7421768FE8C667BD92596EF41E7BAE07711A82134E7ACE6DF673001DB739A24C127415EC6B084DA5763C178432A3D209F98A8D163A680D2AD3161A00252F7D7C12A0C8EE6F77A820354121444D952C1FD4A8D7061BE4F6F236354FAE50207B8182E76FA677E962C11B92E3EEFF38C20ED752A57CB45FD719EA6B2E7F9AE5E577149B8E8D8DB7D70C40469AD024F212CF29261584E0C8C9868F4CA448B6361E08CFFEA69729B0241AF966D74CCD1B321F3C20B61092D554A856A4D2E7480FEDE32A2D9AA4FB303EF3C447240F7E90ECA0BFBEF3BCCDD2E0FA4ACBD994BC853DAC2E43C0739E2F2C4BBBF6384AA282A3FC363FEEF6D7A56ADE2B29C143D1C0D591945912229C19DCC919BBA1F54D84EA1AAC7ECD78818E9063C9AFCA46159CD90ABD1D944479DB62AD728AB474E6FB496AF16F55' ||
'A88E26F7975EA0B10DF9AF6CFADE8984B41886AB4AEC81591F9B497D5B7794AE42A1DD07AA983207A880AC8501D9C326847F98F850D1C2A05CF6ED1F6D50E372EB89E7FC7925495022A6A2EFE0448224922F4A4900822E718E30E386D13CA19C739EEDC80C0B3A53AAA2FDAA11D601E1D4EA57EBC34'),
'^[|thKZnf7Np','RSA','elitecore-server-key.der',1,CURRENT_TIMESTAMP,1,CURRENT_TIMESTAMP);

-- Add default trusted certificate
INSERT INTO TBLMTRUSTCERTIFICATE VALUES
(1,'Device_Root_CA1',to_blob('2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949446A7A4343416E65674177494241674951524A337839564569304D46355172694165664B673754414E42676B71686B69473977304241517346414442520D0A4D517377435159445651514745774A56557A45584D4255474131554543684D4F56326C4E51566767526D39796457306F55696B784B54416E42674E5642414D540D0A494664705455465949455A76636E56744B4649704945526C646D6C6A5A5342536232393049433067513045784D423458445441334D5449784D6A41774D4441770D0A4D466F58445451354D54497A4D44497A4E546B314F566F775554454C4D416B474131554542684D4356564D78467A415642674E5642416F54446C6470545546590D0A49455A76636E56744B4649704D536B774A7759445651514445794258615531425743424762334A31625368534B5342455A585A7059325567556D3976644341740D0A49454E424D544343415349774451594A4B6F5A496876634E4151454242514144676745504144434341516F4367674542414E37774E3649767764675449656D630D0A6C646F4546384E' ||
'5758686D722F5871657730656B36576A5A38472B7A7573577966707A7A6274626542372F534B6636514B6D2F415A52746D37363158464657590D0A2F5957636463643065742F35645767664D337737612B4C4664746530476242755471764955464377695063613045554E7643326849356F6E356D6C46615462470D0A5171574934576B5869796A4B43674863364C66696939317369656C6A5244453962344C4A642B74736C74586542776F675A5A744769433146625359536E6352660D0A7736467234563135533975514D61436F7450684439752F5A387472502B62726633736168504E6466555443757242576A78334D494F587936746D6F6D4C7535620D0A76785A63374278794542526B4D4232366B4C7868734D68726D646F74524E5855554C3656454136466A454A37392B6F427441686E4933304C79546661545052760D0A4D3347364A3963434177454141614E6A4D47457744775944565230544151482F42415577417745422F7A414F42674E56485138424166384542414D43415159770D0A485159445652304F4242594546467734737645454A5259503042673763632F2B37396C696D58386B4D42384741315564497751594D4261414646' ||
'7734737645450D0A4A5259503042673763632F2B37396C696D58386B4D413047435371475349623344514542437755414134494241514236333467696E527759366E6C6A534377590D0A754B6D63634B5136366F4B74586F77566E43706430666F6F68756E6D62476667616A382B6D5A334A5A73447457564D5472327367514841516D4E4D6B685531540D0A52305369412F66315A7479425561556E56755A6B713473477969453848774F2F312B71716D56347643566C2F4F584F46376D77725856676D6E505A753552665A0D0A4F7463713332742B46646D337968614F7A686975317A48664C567767446A65675978464F397A772F774F32674877306F4A68444E593464336A685234764B7A360D0A43624A30535965505859584665766F454658596656383650304133444636453675586E764C536556373038723258524D43667068565265357658716C53337A470D0A416175366471375478615030656B425865647A667541577767647A74665676615A6C717936452B7450317A624C6F5574346E50637274486C59336F39687248350D0A7432684D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D'),'Device Root CA1.pem',1,CURRENT_TIMESTAMP,1,CURRENT_TIMESTAMP);

INSERT INTO TBLMTRUSTCERTIFICATE VALUES
(2,'Device_Root_CA2',to_blob('2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D494944616A4343416C4B6741774942416749515353736B36667542766E59457956534C58424D47316A414E42676B71686B69473977304241517346414442500D0A4D517377435159445651514745774A56557A45584D4255474131554543684D4F56326C4E51566767526D39796457306F55696B784A7A416C42674E5642414D540D0A486C64705455465949455A76636E56744B4649704945526C646D6C6A5A534253623239304C554E424D6A4165467730774F4445784D6A51794D6A41304D6A56610D0A467730304F5445784D6A51794D6A41304D6A56614D453878437A414A42674E5642415954416C56544D526377465159445651514B4577355861553142574342470D0A62334A31625368534B54456E4D4355474131554541784D6556326C4E51566767526D39796457306F55696B675247563261574E6C49464A7662335174513045790D0A4D494942496A414E42676B71686B6947397730424151454641414F43415138414D49494243674B434151454130346D3133533067773344704F325477446A67610D0A4B6C57452B705831' ||
'7233666446346E494B5546324254656A36515258784648624A464C3247305159364A653244766537384D52654C504358565550656F6649340D0A734746764F3936773774356C3169516931376E4C644B2B615467742F32567177453830744F456A4766646249534B6A51556B68384F2B625647645A6A5472346C0D0A6C3641534A58766B4C383154696E52596C51436E472F4C6464784C652F3849564243344176637743624D6E3571794D706475696F304E57753033724E5434736C0D0A616A594D50307078615A527433744D6236546D4B6A4657313071364A682F6857694D576D70334249476C41724538304732656755455976526D49436B6F5056410D0A3347726B56544966335379454C344C5257342B546C556B70564765706F3479313937357561554E2B72646559712B795349786666776E316942784D487478636A0D0A56774944415141426F3049775144416442674E564851344546675155764E72714746626A475A6C6E5A7842422B456D4278754C743168387744675944565230500D0A4151482F42415144416745474D41384741315564457745422F7751464D414D42416638774451594A4B6F5A496876634E4151454C4251414467674542' ||
'414D6F710D0A6F776C714863716A34506C4B49346D34476C662F4A52745435394B666436516B523166536D426D6A4D3741512B50646E4775446D6C5859554857454B5241562F0D0A6F4D77476245766752532F306D51682F444D646752314D33417266566E4446334B7A386B686D7A4D6A4262396C6B4648484756314C4252514459427873446A6A0D0A6D71455638474458514F6D62795373494E69317A7839457756564B426F6E534B436C75546E776D366E4B2B33346B442B794F4D4D42794953384D414879715A490D0A454B3745416A56725A744469484C4A58394146556A536C6D6F316C67336143396E634E75565977716149503168614150353267573633532F32596E54316343640D0A6157386F76596A2B334A6E4D6131374B5151534E67742B3933496B393572696B5659366C3935777230465152435837762B5931664A46737974676564784F32590D0A35343632677A59474B326D6838426D346F30773D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D'),'Device Root CA2.pem',1,CURRENT_TIMESTAMP,1,CURRENT_TIMESTAMP);

INSERT INTO TBLMTRUSTCERTIFICATE VALUES
(3,'Elitecore_ca_cert',to_blob('2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D49494533444343413853674177494241674942657A414E42676B71686B69473977304241515546414443427054454C4D416B474131554542684D43535534780A4544414F42674E564241675442306431616D467959585178456A415142674E56424163544355466F6257566B59574A685A44456C4D434D474131554543684D630A525778706447566A62334A6C4946526C59326874626D3973623264705A584D675448526B4C6A45524D4138474131554543784D495257787064475642515545780A4654415442674E5642414D54444556736158526C593239795A534244515445664D42304743537147534962334451454A41525951593246415A5778706447566A0A62334A6C4C6D4E7662544165467730774F5441784D4463784D6A49344D6A4A61467730784F5441784D4455784D6A49344D6A4A614D49476C4D517377435159440A5651514745774A4A546A45514D4134474131554543424D485233567159584A68644445534D4241474131554542784D4A515768745A575268596D466B4D5355770A497759445651514B4578784662476C30' ||
'5A574E76636D55675647566A61473175623278765A326C6C6379424D644751754D524577447759445651514C457768460A62476C305A554642515445564D424D474131554541784D4D525778706447566A62334A6C49454E424D5238774851594A4B6F5A496876634E41516B424668426A0A5955426C62476C305A574E76636D5575593239744D494942496A414E42676B71686B6947397730424151454641414F43415138414D49494243674B43415145410A783154496A576952704455517134394453594E305366323975716F754C365A4257674147303879414C626D61523945314B654E4872546C644C714C726F64646B0A4F52504178317574734C4D66545164756B6539464C7A6D51504555374D4A634550552F4553344D7147752B686B794A797756564D797145706E2F306F645353570A786C57764B694D79424B644643636A75627265764557522F32465A4E636D5A69723272344F527A465263444D79696D6C46774D54733037776A6E4353694564450A6653496E6E323550644B5A795438394E42724E394C6578566974556A7259466C705946355565392B664866696E2F79374957556674417766337A73466B4A33440A423275356A646A643158682'||
'B41725569377938384F4D623651305045544A6F737A71413135344E394C4F4E6E2F4659494B3454726A5A2B41523849346D4164310A53705266707434646630316847594C6F6B38367343514944415141426F344942457A434341513877485159445652304F42425945464F543946767757744257530A6C717973666A4B2B30454566716270744D49485342674E5648534D4567636F7767636541464F543946767757744257536C717973666A4B2B30454566716270740A6F5947727049476F4D49476C4D517377435159445651514745774A4A546A45514D4134474131554543424D485233567159584A68644445534D424147413155450A42784D4A515768745A575268596D466B4D535577497759445651514B4578784662476C305A574E76636D55675647566A61473175623278765A326C6C6379424D0A644751754D524577447759445651514C4577684662476C305A554642515445564D424D474131554541784D4D525778706447566A62334A6C49454E424D5238770A4851594A4B6F5A496876634E41516B424668426A5955426C62476C305A574E76636D557559323974676746374D41774741315564457751464D414D42416638770A4377594456523050'||
'42415144416745474D4130474353714753496233445145424251554141344942415141637A723159775765687070694B646D38335A6C50730A73574F534A74497553774D2B547A4B755664676842444F3258526344347774704936784E4750464A41692F79336A485865794A555165526E6A434E58355A4B700A374F426279484F4E494A4941667959424E59765772426446786468774434302B2F4B677170435A54645448727A44664B6E7A5041635A49746F6873724C48794A0A656350764C45414C573732467074515542673052796563664C4D633975596638514B385152566673704836652B304E6673744D37314A6955506E6364564657790A513336504646436D3366357870636D493834312F7976664F2F7754352B73714D512F71545A6D655A4535454177793151464C7559436553496C34677847504E420A66704C6C79677A49472B516E386454674A78463355635A35396F4856666F30454F50724E4A4C353065726236784B41464E6169754D577858435879452F6642740A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A'),'elitecore-ca-cert.pem',1,CURRENT_TIMESTAMP,1,CURRENT_TIMESTAMP);

INSERT INTO TBLMTRUSTCERTIFICATE VALUES
(4,'WiMAX_Device_Root',to_blob('2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949445A6A4343416B3667417749424167494A4149636671327951337A32474D413047435371475349623344514542437755414D4534784A6A416B42674E560D0A42414D54485664705455465949455A76636E56744B4649704945526C646D6C6A5A534253623239304C554E424D526377465159445651514B45773558615531420D0A5743424762334A31625368534B54454C4D416B474131554542684D4356564D774942634E4D4467774D54417A4D6A45314F544934576867504D6A41314D7A41780D0A4D4449794D5455354D6A68614D4534784A6A416B42674E5642414D54485664705455465949455A76636E56744B4649704945526C646D6C6A5A534253623239300D0A4C554E424D526377465159445651514B45773558615531425743424762334A31625368534B54454C4D416B474131554542684D4356564D77676745694D4130470D0A4353714753496233445145424151554141344942447741776767454B416F49424151444B547535394E6646716D5051516C7638614473436A6C2F395472486E5A0D0A452B5349736548752F686'||
'D3945794A74436C38516F426C54376F47465147412F635A4B454234675A47416930374E7558776577785A7854393742556B4F57776D0D0A51562B53445777616F42344B45776847354351713461455044784931655A65385A47474C71556959546E7A52584262446A33556E7473642B6B433232704F59370D0A524557367674336455644249784A42494D5070372B4D544B6B7178495A6843793235526F2F476A6D6D5A343250476D725752797056667935686E51546268346A0D0A766961434C3765682F2F5947487039527747364D53793244554E592B2B493234757544593953526744374F58332F6D6F325257314358554C6B30424869506F750D0A4B39557854384654614D586642676A74646B71544A47377A4F3476576E7042304B726B354346486D5067344F7974596F74537078674F563541674D424141476A0D0A525442444D42494741315564457745422F7751494D415942416638434151497744675944565230504151482F42415144416745474D42304741315564446751570D0A4242523033597348554773343074564256727A77576F614F6B5571506F6A414E42676B71686B6947397730424151734641414F434151454176626430516630350D0A37'||
'65697731736F414B695149684D79357A313130774E726B4E4A6D6B4F386159313855505669795330786458494279614A796E32473937376B616C65583459340D0A695143363673694D6A306B35484875443262414D42624F316B6D7A4A41485A544F5646754C635358576469435A68585556767271416172335067474C69494A370D0A6C5552657A4A757131374757797A374F72476A334B724C3178595661593344703750747A7572727A493666547A7437596B32427233372F56764D452B4A7131690D0A504C56335472716F6B6C734668365373787467554673414363514945546A7A4773536D4F51337570686C396345705A677357494E3944565A6834704B304437380D0A725A4C5A614A452F45742F684F655349426F616A4278416641714E716A4851752F616B576847586C467A475071626A7A4272736665715673507637434342476A0D0A53724A4433553257387A44594C673D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D'),'WiMAX Device Root.pem',1,CURRENT_TIMESTAMP,1,CURRENT_TIMESTAMP);

-- Add default CRL Certificate
INSERT INTO TBLMCRLCERTIFICATE VALUES
(1,'Elitecore_crl',to_blob('2D2D2D2D2D424547494E20583530392043524C2D2D2D2D2D0A4D494943416A4342367A414E42676B71686B69473977304241515146414443427054454C4D416B474131554542684D43535534784544414F42674E56424167540A42306431616D467959585178456A415142674E56424163544355466F6257566B59574A685A44456C4D434D474131554543684D63525778706447566A62334A6C0A4946526C59326874626D3973623264705A584D675448526B4C6A45524D4138474131554543784D495257787064475642515545784654415442674E5642414D540A444556736158526C593239795A534244515445664D42304743537147534962334451454A41525951593246415A5778706447566A62334A6C4C6D4E766252634E0A4D446B784D5445324D44597A4D7A4D785768634E4D446B784D6A45324D44597A4D7A4D78576A41554D42494341516F58445441354D5445784E6A41324D7A49780A4F466F774451594A4B6F5A496876634E4151454542514144676745424146667A5173332B75346D353562674E6F755732564C2F7A3362516D58774E374D762F480A4847424B355130764A6569343874796677524F4A4D5544525'||
'96638684C662B4F7553776E35754A417434553736346350685445724C5843587734624D6F3167630A7A7255304A723042794F6E6879366D566F6D6D5747455246704E6C5853784932357A6A31594F4C524B5A546F705961434568616555736A47414D384B376E34530A773956773949647248552F6E464B35484A6177467A56637966704154586D5A697A486E666467573075724D457158697466555A55454B6C4562715A55486D6B6E0A65563834425045766D706F364939674E597A30507759566368697942696B4E6B675A2F6A7A4B534161364855516B76482F78664E6761763837506636696871390A633449557A685774797571716B6A3877494D756D46364459545852436C5449714B6C67624673654B2B43367355374F305150633D0A2D2D2D2D2D454E4420583530392043524C2D2D2D2D2D0A'),'elitecore-crl.pem',1,CURRENT_TIMESTAMP,1,CURRENT_TIMESTAMP);

COMMIT;

